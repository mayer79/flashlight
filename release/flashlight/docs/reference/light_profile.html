<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Partial Dependence and other Profiles — light_profile • flashlight</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Partial Dependence and other Profiles — light_profile" />
<meta property="og:description" content="Calculates different types of profiles across covariable values. By default, partial dependence profiles are calculated but also profiles of response, predicted values and residuals are possible. The results are aggregated either by (weighted) means or by (weighted) quartiles. Furthermore, counts are added to the resulting object." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flashlight</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/flashlight.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Partial Dependence and other Profiles</h1>
    
    <div class="hidden name"><code>light_profile.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates different types of profiles across covariable values. By default, partial dependence profiles are calculated but also profiles of response, predicted values and residuals are possible. The results are aggregated either by (weighted) means or by (weighted) quartiles. Furthermore, counts are added to the resulting object.</p>
    </div>

    <pre class="usage"><span class='fu'>light_profile</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>light_profile</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for flashlight</span>
<span class='fu'>light_profile</span>(<span class='no'>x</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>by</span> <span class='kw'>=</span> <span class='no'>x</span>$<span class='no'>by</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"partial dependence"</span>, <span class='st'>"predicted"</span>, <span class='st'>"response"</span>,
  <span class='st'>"residual"</span>), <span class='kw'>stats</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"mean"</span>, <span class='st'>"quartiles"</span>), <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>n_bins</span> <span class='kw'>=</span> <span class='fl'>11</span>, <span class='kw'>cut_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"equal"</span>, <span class='st'>"quantile"</span>), <span class='kw'>use_linkinv</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>value_name</span> <span class='kw'>=</span> <span class='st'>"value"</span>, <span class='kw'>q1_name</span> <span class='kw'>=</span> <span class='st'>"q1"</span>, <span class='kw'>q3_name</span> <span class='kw'>=</span> <span class='st'>"q3"</span>,
  <span class='kw'>label_name</span> <span class='kw'>=</span> <span class='st'>"label"</span>, <span class='kw'>type_name</span> <span class='kw'>=</span> <span class='st'>"type"</span>, <span class='kw'>counts_name</span> <span class='kw'>=</span> <span class='st'>"counts"</span>,
  <span class='kw'>counts</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>counts_weighted</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>v_labels</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>pred</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pd_evaluate_at</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pd_grid</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>pd_indices</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pd_n_max</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>pd_seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for multiflashlight</span>
<span class='fu'>light_profile</span>(<span class='no'>x</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>n_bins</span> <span class='kw'>=</span> <span class='fl'>11</span>, <span class='kw'>cut_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"equal"</span>, <span class='st'>"quantile"</span>),
  <span class='kw'>pd_evaluate_at</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pd_grid</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of class <code>flashlight</code> or <code>multiflashlight</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to <code>cut3</code> resp. <code>formatC</code> in forming the cut breaks of the <code>v</code> variable. Not relevant for partial dependence profiles.</p></td>
    </tr>
    <tr>
      <th>v</th>
      <td><p>The variable to be profiled.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>An optional <code>data.frame</code>.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>An optional vector of column names used to additionally group the results.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Type of the profile: Either "partial dependence", predicted", "response", or "residual".</p></td>
    </tr>
    <tr>
      <th>stats</th>
      <td><p>Statistic to calculate: "mean" or "quartiles".</p></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>Cut breaks for a numeric <code>v</code>.</p></td>
    </tr>
    <tr>
      <th>n_bins</th>
      <td><p>Maxmium number of unique values to evaluate for numeric <code>v</code>. Only used in neither <code>grid</code> nor <code>evaluate_at</code> is specified.</p></td>
    </tr>
    <tr>
      <th>cut_type</th>
      <td><p>For the default "equal", bins of equal width are created for <code>v</code> by <code>pretty</code>. Choose "quantile" to create quantile bins.</p></td>
    </tr>
    <tr>
      <th>use_linkinv</th>
      <td><p>Should retransformation function be applied? Default is TRUE.</p></td>
    </tr>
    <tr>
      <th>value_name</th>
      <td><p>Column name in resulting <code>data</code> containing the profile value. Defaults to "value".</p></td>
    </tr>
    <tr>
      <th>q1_name</th>
      <td><p>Name of the resulting column with first quartile values. Only relevant for <code>stats</code> "quartiles".</p></td>
    </tr>
    <tr>
      <th>q3_name</th>
      <td><p>Name of the resulting column with third quartile values. Only relevant for <code>stats</code> "quartiles".</p></td>
    </tr>
    <tr>
      <th>label_name</th>
      <td><p>Column name in resulting <code>data</code> containing the label of the flashlight. Defaults to "label".</p></td>
    </tr>
    <tr>
      <th>type_name</th>
      <td><p>Column name in the resulting <code>data</code> with the plot <code>type</code>.</p></td>
    </tr>
    <tr>
      <th>counts_name</th>
      <td><p>Name of the column containing counts if <code>counts</code> is TRUE.</p></td>
    </tr>
    <tr>
      <th>counts</th>
      <td><p>Should counts be added?</p></td>
    </tr>
    <tr>
      <th>counts_weighted</th>
      <td><p>If <code>counts</code> is TRUE: Should counts be weighted by the case weights? If TRUE, the sum of <code>w</code> is returned by group.</p></td>
    </tr>
    <tr>
      <th>v_labels</th>
      <td><p>If FALSE, return group centers of <code>v</code> instead of labels. Only relevant if <code>v</code> is numeric with many distinct values. In that case useful if e.g. different flashlights use different data sets.</p></td>
    </tr>
    <tr>
      <th>pred</th>
      <td><p>Optional vector with predictions (after application of inverse link). Can be used to avoid recalculation of predictions over and over if the functions is to be repeatedly called for different <code>v</code> and predictions are computationally expensive to make. Only relevant for <code>type = "predicted"</code>.</p></td>
    </tr>
    <tr>
      <th>pd_evaluate_at</th>
      <td><p>Vector with values of <code>v</code> used to evaluate the profile. Only relevant for type = "partial dependence".</p></td>
    </tr>
    <tr>
      <th>pd_grid</th>
      <td><p>A <code>data.frame</code> with grid values, e.g. generated by <code>expand.grid</code>. Only used for type = "partial dependence".</p></td>
    </tr>
    <tr>
      <th>pd_indices</th>
      <td><p>A vector of row numbers to consider in calculating partial dependence profiles. Only used for type = "partial dependence".</p></td>
    </tr>
    <tr>
      <th>pd_n_max</th>
      <td><p>Maximum number of ICE profiles to calculate (will be randomly picked from <code>data</code>). Only used if type = "partial dependence".</p></td>
    </tr>
    <tr>
      <th>pd_seed</th>
      <td><p>Integer random seed used to select ICE profiles. Only used for type = "partial dependence".</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of classes <code>light_profile</code>, <code>light</code> (and a list) with the following elements.</p><ul>
<li><p><code>data</code> A tibble containing results. Can be used to build fully customized visualizations. Its column names are specified by all other items in this list.</p></li>
<li><p><code>by</code> Names of group by variable.</p></li>
<li><p><code>v</code> The variable(s) evaluated.</p></li>
<li><p><code>type</code> Same as input <code>type</code>. For information only.</p></li>
<li><p><code>stats</code> Same as input <code>stats</code>.</p></li>
<li><p><code>value_name</code> Same as input <code>value_name</code>.</p></li>
<li><p><code>q1_name</code> Same as input <code>q1_name</code>.</p></li>
<li><p><code>q3_name</code> Same as input <code>q3_name</code>.</p></li>
<li><p><code>label_name</code> Same as input <code>label_name</code>.</p></li>
<li><p><code>type_name</code> Same as input <code>type_name</code>.</p></li>
<li><p><code>counts_name</code> Same as input <code>counts_name</code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For numeric covariables <code>v</code> with more than <code>n_bins</code> disjoint values, its values are binned. Alternatively, <code>breaks</code> can be provided to specify the binning. For partial dependence profiles, this behaviour can be overritten either by providing a vector of evaluation points (<code>pd_evaluate_at</code>) or an evaluation <code>pd_grid</code>. By the latter we mean a data frame with column name(s) with a (multi-)variate evaluation grid. For partial dependence or prediction profiles, "model", "predict_function", linkinv" and "data" are required. For response profiles its just "y", "linkinv" and "data". "data" can be passed on the fly for both types.</p>
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    
<ul>
<li><p><code>default</code>: Default method not implemented yet.</p></li>
<li><p><code>flashlight</code>: Profiles for flashlight.</p></li>
<li><p><code>multiflashlight</code>: Profiles for multiflashlight.</p></li>
</ul>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='light_effects.html'>light_effects</a></code>, <code><a href='plot.light_profile.html'>plot.light_profile</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>fit_full</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>Sepal.Length</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>)
<span class='no'>fit_part</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>Sepal.Length</span> ~ <span class='no'>Petal.Length</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>)
<span class='no'>mod_full</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='flashlight.html'>flashlight</a></span>(<span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>fit_full</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"full"</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='st'>"Sepal.Length"</span>)
<span class='no'>mod_part</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='flashlight.html'>flashlight</a></span>(<span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>fit_part</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"part"</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='st'>"Sepal.Length"</span>)
<span class='no'>mods</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='multiflashlight.html'>multiflashlight</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='no'>mod_full</span>, <span class='no'>mod_part</span>))

<span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Species"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; <span style='color: #555555;'># A tibble: 3 x 5</span><span>
#&gt;   Species    counts value label type              
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span> setosa        150  6.43 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span> versicolor    150  5.70 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 1 more row</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Species"</span>, <span class='kw'>counts</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 3 x 4</span><span>
#&gt;   Species    value label type              
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span> setosa      6.43 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span> versicolor  5.70 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 1 more row</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Species"</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"response"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 3 x 5</span><span>
#&gt;   Species    counts value label type    
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   
#&gt; </span><span style='color: #555555;'>1</span><span> setosa         50  5.01 full  response
#&gt; </span><span style='color: #555555;'>2</span><span> versicolor     50  5.94 full  response
#&gt; </span><span style='color: #555555;'># ... with 1 more row</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Species"</span>, <span class='kw'>stats</span> <span class='kw'>=</span> <span class='st'>"quartiles"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 3 x 7</span><span>
#&gt;   Species    counts    q1 value    q3 label type              
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span> setosa        150  5.14  6.71  7.26 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span> versicolor    150  4.42  5.98  6.54 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 1 more row</span><span></div><div class='input'>
<span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 13 x 5</span><span>
#&gt;   Petal.Width counts value label type              
#&gt;         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span>         0.1    150  6.19 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span>         0.3    150  6.13 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 11 more rows</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"residual"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 12 x 5</span><span>
#&gt;   Petal.Width counts   value label type    
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>        </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   
#&gt; </span><span style='color: #555555;'>1</span><span> [0, 0.2]        34 -</span><span style='color: #BB0000;'>0.027</span><span style='color: #BB0000;text-decoration: underline;'>4</span><span> full  residual
#&gt; </span><span style='color: #555555;'>2</span><span> (0.2, 0.4]      14  0.066</span><span style='text-decoration: underline;'>9</span><span> full  residual
#&gt; </span><span style='color: #555555;'># ... with 10 more rows</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"residual"</span>, <span class='kw'>v_label</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 12 x 5</span><span>
#&gt;   Petal.Width counts   value label type    
#&gt;         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   
#&gt; </span><span style='color: #555555;'>1</span><span>         0.1     34 -</span><span style='color: #BB0000;'>0.027</span><span style='color: #BB0000;text-decoration: underline;'>4</span><span> full  residual
#&gt; </span><span style='color: #555555;'>2</span><span>         0.3     14  0.066</span><span style='text-decoration: underline;'>9</span><span> full  residual
#&gt; </span><span style='color: #555555;'># ... with 10 more rows</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"residual"</span>, <span class='kw'>dig.lab</span> <span class='kw'>=</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 12 x 5</span><span>
#&gt;   Petal.Width counts   value label type    
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>        </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   
#&gt; </span><span style='color: #555555;'>1</span><span> [0, 0.2]        34 -</span><span style='color: #BB0000;'>0.027</span><span style='color: #BB0000;text-decoration: underline;'>4</span><span> full  residual
#&gt; </span><span style='color: #555555;'>2</span><span> (0.2, 0.4]      14  0.066</span><span style='text-decoration: underline;'>9</span><span> full  residual
#&gt; </span><span style='color: #555555;'># ... with 10 more rows</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>stats</span> <span class='kw'>=</span> <span class='st'>"quartiles"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 13 x 7</span><span>
#&gt;   Petal.Width counts    q1 value    q3 label type              
#&gt;         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span>         0.1    150  5.21  6.35  6.92 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span>         0.3    150  5.14  6.29  6.85 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 11 more rows</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>n_bins</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 3 x 5</span><span>
#&gt;   Petal.Width counts value label type              
#&gt;         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span>         0.5    150  6.06 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span>         1.5    150  5.75 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 1 more row</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>pd_evaluate_at</span> <span class='kw'>=</span> <span class='fl'>2</span>:<span class='fl'>4</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 3 x 5</span><span>
#&gt;   Petal.Width counts value label type              
#&gt;         </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span>           2    150  5.59 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span>           3    150  5.28 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 1 more row</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>pd_grid</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>Petal.Width</span> <span class='kw'>=</span> <span class='fl'>2</span>:<span class='fl'>4</span>))</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 3 x 5</span><span>
#&gt;   Petal.Width counts value label type              
#&gt;         </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span>           2    150  5.59 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span>           3    150  5.28 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 1 more row</span><span></div><div class='input'>
<span class='fu'>light_profile</span>(<span class='no'>mod_full</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"Species"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 39 x 6</span><span>
#&gt;   Species Petal.Width counts value label type              
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span> setosa          0.1     50  5.05 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span> setosa          0.3     50  4.99 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 37 more rows</span><span></div><div class='input'>
<span class='fu'>light_profile</span>(<span class='no'>mods</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile_multi, light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 26 x 5</span><span>
#&gt;   Petal.Width counts value label type              
#&gt;         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span>         0.1    150  6.19 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span>         0.3    150  6.13 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 24 more rows</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mods</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"Species"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile_multi, light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 78 x 6</span><span>
#&gt;   Species Petal.Width counts value label type              
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span> setosa          0.1     50  5.05 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span> setosa          0.3     50  4.99 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 76 more rows</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mods</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"Species"</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"predicted"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile_multi, light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 30 x 6</span><span>
#&gt;   Species Petal.Width counts value label type     
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>        </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>    
#&gt; </span><span style='color: #555555;'>1</span><span> setosa  [0, 0.2]        34  4.98 full  predicted
#&gt; </span><span style='color: #555555;'>2</span><span> setosa  (0.2, 0.4]      14  5.07 full  predicted
#&gt; </span><span style='color: #555555;'># ... with 28 more rows</span><span></div><div class='input'><span class='fu'>light_profile</span>(<span class='no'>mods</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"Species"</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"predicted"</span>, <span class='kw'>stats</span> <span class='kw'>=</span> <span class='st'>"quartiles"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile_multi, light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 30 x 8</span><span>
#&gt;   Species Petal.Width counts    q1 value    q3 label type     
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>        </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>    
#&gt; </span><span style='color: #555555;'>1</span><span> setosa  [0, 0.2]        34  4.81  4.96  5.09 full  predicted
#&gt; </span><span style='color: #555555;'>2</span><span> setosa  (0.2, 0.4]      14  4.94  5.06  5.33 full  predicted
#&gt; </span><span style='color: #555555;'># ... with 28 more rows</span><span></div><div class='input'>
<span class='fu'>light_profile</span>(<span class='no'>mods</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='st'>"Petal.Width"</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"Species"</span>, <span class='kw'>stats</span> <span class='kw'>=</span> <span class='st'>"quartiles"</span>,
  <span class='kw'>value_name</span> <span class='kw'>=</span> <span class='st'>"pd"</span>, <span class='kw'>q1_name</span> <span class='kw'>=</span> <span class='st'>"p25"</span>, <span class='kw'>q3_name</span> <span class='kw'>=</span> <span class='st'>"p75"</span>, <span class='kw'>label_name</span> <span class='kw'>=</span> <span class='st'>"model"</span>,
  <span class='kw'>type_name</span> <span class='kw'>=</span> <span class='st'>"visualization"</span>, <span class='kw'>counts_name</span> <span class='kw'>=</span> <span class='st'>"n"</span>)</div><div class='output co'>#&gt; 
#&gt; I am an object with class(es) light_profile_multi, light_profile, light, list 
#&gt; 
#&gt; Tibbles:
#&gt; 
#&gt;  data 
#&gt; </span><span style='color: #555555;'># A tibble: 78 x 8</span><span>
#&gt;   Species Petal.Width     n   p25    pd   p75 model visualization     
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>             
#&gt; </span><span style='color: #555555;'>1</span><span> setosa          0.1    50  4.92  5.06  5.21 full  partial dependence
#&gt; </span><span style='color: #555555;'>2</span><span> setosa          0.3    50  4.86  5.00  5.15 full  partial dependence
#&gt; </span><span style='color: #555555;'># ... with 76 more rows</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#methods-by-class-">Methods (by class)</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michael Mayer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


